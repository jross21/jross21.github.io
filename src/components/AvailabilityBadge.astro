---
/**
 * AvailabilityBadge.astro
 *
 * Green pulse dot + "Available for engagements" text.
 * Reusable indicator for hero, footer, sidebar placement.
 */
interface Props {
  class?: string;
  compact?: boolean;
}

const { class: className = '', compact = false } = Astro.props;
---

<div class:list={['availability-badge', compact && 'availability-badge--compact', className]}>
  <span class="availability-badge__dot"></span>
  <span class="availability-badge__text">
    {compact ? 'Open to roles' : 'Open to opportunities'}
  </span>
</div>

<style>
  .availability-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-family: var(--font-sans);
    font-size: 0.8125rem;
    color: var(--color-text-muted);
  }

  .availability-badge--compact {
    font-size: 0.75rem;
  }

  .availability-badge__dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: var(--color-terminal-green);
    box-shadow: 0 0 8px var(--color-terminal-green);
    animation: pulse-availability 2s ease-in-out infinite;
    flex-shrink: 0;
  }

  @keyframes pulse-availability {
    0%, 100% {
      opacity: 1;
      box-shadow: 0 0 8px var(--color-terminal-green);
    }
    50% {
      opacity: 0.7;
      box-shadow: 0 0 4px var(--color-terminal-green);
    }
  }

  .availability-badge__text {
    letter-spacing: 0.01em;
  }

  @media (prefers-reduced-motion: reduce) {
    .availability-badge__dot {
      animation: none;
    }
  }
</style>
