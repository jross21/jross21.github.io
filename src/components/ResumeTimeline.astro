---
/**
 * ResumeTimeline.astro
 *
 * Vertical timeline component for resume experience entries.
 * Uses CSS border-left for the timeline line and ::before pseudo-elements
 * for circle markers. Print-friendly â€” no animations or gradients.
 */
interface TimelineEntry {
  dateRange: string;
  company: string;
  title: string;
  bullets: string[];
}

interface Props {
  entries: TimelineEntry[];
  class?: string;
}

const { entries, class: className = '' } = Astro.props;
---

<div class:list={['resume-timeline', className]}>
  {entries.map((entry) => (
    <div class="timeline-entry">
      <div class="timeline-marker" />
      <div class="timeline-content">
        <div class="timeline-date">{entry.dateRange}</div>
        <div class="timeline-company">{entry.company}</div>
        <div class="timeline-title">{entry.title}</div>
        {entry.bullets.length > 0 && (
          <ul class="timeline-bullets">
            {entry.bullets.map((bullet) => (
              <li>{bullet}</li>
            ))}
          </ul>
        )}
      </div>
    </div>
  ))}
</div>

<style>
  .resume-timeline {
    position: relative;
    padding-left: 1.5rem;
    border-left: 2px solid var(--color-border);
  }

  .timeline-entry {
    position: relative;
    padding-bottom: 2rem;
  }

  .timeline-entry:last-child {
    padding-bottom: 0;
  }

  .timeline-marker {
    position: absolute;
    left: -1.75rem;
    top: 0.25rem;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--color-accent);
    border: 2px solid var(--color-bg);
  }

  .timeline-date {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--color-text-dim);
    margin-bottom: 0.25rem;
  }

  .timeline-company {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text);
  }

  .timeline-title {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-bottom: 0.5rem;
  }

  .timeline-bullets {
    list-style: disc;
    padding-left: 1.25rem;
    font-size: 0.8125rem;
    color: var(--color-text-muted);
    line-height: 1.6;
  }

  .timeline-bullets li {
    margin-bottom: 0.25rem;
  }

  .timeline-bullets li::marker {
    color: var(--color-accent);
  }

  /* Print-friendly: solid colors, no blur */
  @media print {
    .timeline-marker {
      border-color: white;
      background-color: #5E81AC;
    }

    .resume-timeline {
      border-left-color: #D8DEE9;
    }
  }
</style>
