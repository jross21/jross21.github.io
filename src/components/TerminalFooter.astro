---
/**
 * TerminalFooter.astro
 *
 * Footer with mini-sitemap and availability badge.
 */
import AvailabilityBadge from './AvailabilityBadge.astro';

const currentYear = new Date().getFullYear();

const buildDate = new Date().toLocaleDateString('en-US', {
  month: 'short',
  year: 'numeric'
});

const sitemapColumns = [
  {
    title: 'Work',
    links: [
      { href: '/projects', label: 'Projects' },
      { href: '/ideas', label: 'Ideas' },
    ],
  },
  {
    title: 'Info',
    links: [
      { href: '/resume', label: 'Resume' },
      { href: '/about', label: 'About' },
    ],
  },
  {
    title: 'Connect',
    links: [
      { href: '/contact', label: 'Contact' },
      { href: 'https://www.linkedin.com/in/julianross21/', label: 'LinkedIn', external: true },
      { href: 'https://github.com/jross21', label: 'GitHub', external: true },
    ],
  },
];
---

<footer class="hidden md:block border-t border-[var(--color-border)] mt-auto bg-[var(--color-bg)]/95 backdrop-blur-sm">
  <div class="max-w-[1200px] mx-auto px-6 py-8">
    <!-- Sitemap + Availability -->
    <div class="flex flex-col md:flex-row justify-between gap-8 mb-8">
      <!-- Mini sitemap columns -->
      <div class="flex gap-12">
        {sitemapColumns.map((col) => (
          <div>
            <div class="text-xs text-[var(--color-text-dim)] uppercase tracking-wider mb-3 font-medium">
              {col.title}
            </div>
            <ul class="space-y-2">
              {col.links.map((link) => (
                <li>
                  <a
                    href={link.href}
                    target={link.external ? '_blank' : undefined}
                    rel={link.external ? 'noopener noreferrer' : undefined}
                    class="text-sm text-[var(--color-text-muted)] hover:text-[var(--color-accent)] transition-colors hover:no-underline"
                  >
                    {link.label}
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>

      <!-- Status -->
      <div class="flex flex-col items-end gap-3">
        <AvailabilityBadge />
      </div>
    </div>

    <!-- Bottom bar -->
    <div class="flex items-center justify-between pt-4 border-t border-[var(--color-border)]">
      <div class="text-xs text-[var(--color-text-dim)]">
        &copy; 2020&ndash;{currentYear} Julian Ross
      </div>
      <div class="text-xs text-[var(--color-text-dim)]">
        Updated {buildDate}
      </div>
    </div>
  </div>
</footer>
