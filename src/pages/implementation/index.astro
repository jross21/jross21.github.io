---
import BaseLayout from '../../layouts/BaseLayout.astro';
import TerminalBreadcrumb from '../../components/TerminalBreadcrumb.astro';
import TerminalProjectCard from '../../components/TerminalProjectCard.astro';
import { getCollection } from 'astro:content';

const allWork = await getCollection('work');
---

<BaseLayout title="Implementation" description="Approaches and patterns from implementations I've led.">
  <article class="py-8">
    <!-- Breadcrumb -->
    <TerminalBreadcrumb items={[{ label: 'implementation' }]} section="implementation" />

    <!-- Header -->
    <div class="mb-8">
      <h1 class="text-2xl md:text-3xl font-bold text-[var(--color-text)] mb-4">
        Implementation
      </h1>

      <p class="text-[var(--color-text-muted)] max-w-2xl">
        Approaches and patterns from systems I've led across RevOps and GTM. Not case studies with logosâ€”just the thinking and architecture behind what shipped.
      </p>
    </div>

    <!-- Project grid -->
    <div class="grid md:grid-cols-2 gap-4 pl-4 md:pl-6 border-l border-[var(--color-border)]">
      {allWork.map((project) => (
        <TerminalProjectCard
          title={project.data.title}
          description={project.data.description}
          slug={project.slug}
          date={project.data.date}
        />
      ))}
    </div>

    <!-- Empty state -->
    {allWork.length === 0 && (
      <div class="terminal-panel">
        <div class="terminal-panel__body text-sm text-[var(--color-text-muted)]">
          No projects found.
        </div>
      </div>
    )}
  </article>
</BaseLayout>
